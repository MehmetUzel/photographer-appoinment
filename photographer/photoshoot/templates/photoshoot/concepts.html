{% extends 'homepage/base.html' %}

{% block stylesf %}
<style>

    .slider-container {
      padding: 0 0;
      background: #e6e6e6;
      margin: 0 0 0 0;
      overflow: hidden;
      border-radius: 5px;
      position: relative;
    }
    .slider-container:before {
      position: absolute;
      left: 0;
      top: 0;
      color: blue;
    }

    img {
      display: inline-block;
      vertical-align: top;
      max-width: 100%;
    }

    .my-slider {
      display: flex;
      position: relative;
    }

    .slider-item {
      background: grey;
      border-right: 2px solid #333;
      padding: 0 0;
      position: relative;
    }
    .slider-item:hover {
      cursor: pointer;
    }

    .card {
      text-align: center;
      margin: 0 auto;
      max-width: 200px;
      color: #333;
      background: white;
      border-radius: 5px;
      padding-bottom: 0.05rem;
      font-family: sans-serif;
      overflow: hidden;
      box-shadow: 2px 2px rgba(0, 0, 0, 0.3);
      position: relative;
    }
    .card img {
      margin-bottom: 0.05rem;
    }
    .card h2 {
      margin: 0 0 0.05rem;
    }

</style>
{% endblock %}
{% block title %}
Konsept Ekranı
{% endblock %}
{% load crispy_forms_tags %}

{%block content%}

<h1> Konseptler </h1>
<div class="slider-container">
    <ul class="controls" id="customize-controls" aria-label="Carousel Navigation" tabindex="0">
        <li class="prev" data-controls="prev" aria-controls="customize" tabindex="-1">
            <i class="fas fa-angle-left fa-5x"></i>
        </li>
        <li class="next" data-controls="next" aria-controls="customize" tabindex="-1">
            <i class="fas fa-angle-right fa-5x"></i>          
        </li>
    </ul>
    <div class="my-slider">

    {% for v in concept %}
        <div class="slider-item">
            <div class="card">                
                <img src="{{v.file_url.url}}" alt="">
                <h2>{{v.concept_id.name}}</h2>
                <h3>{{v.concept_id.id}}</h3>
                <div id="{{v.concept_id.id}}">
                  <button>SEÇ</button>
                </div>

            </div>
        </div>

    {% endfor %}
        
    </div>    
</div>


{%endblock%}

{% block script %}    

{% load static %}

<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/tiny-slider/2.3.11/min/tiny-slider.js"></script>

<script type="text/javascript">

const num_of_concepts = parseInt('{{num_concept}}')
let num_of_seleceted_concept = 0

function getCookie(name) {
    let cookieValue = null;
    if (document.cookie && document.cookie !== '') {
        const cookies = document.cookie.split(';');
        for (let i = 0; i < cookies.length; i++) {
            const cookie = cookies[i].trim();
            if (cookie.substring(0, name.length + 1) === (name + '=')) {
                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                break;
            }
        }
    }
    return cookieValue;
  }
    
    const csrftoken = getCookie('csrftoken')

function toggleconcept(add_or_delete,concept){
      var data = {
          is_add: add_or_delete,
          concept_id: concept,
          csrfmiddlewaretoken: csrftoken,
        }
        $.ajax({
          url: 'photoshoot/concepts/toggle/',
          type: 'POST',
          dataType: 'json',
          data: data
        }).done(function(response) {
            
          })
  }


function add_button(concept_id)
{

}

function delete_button(concept_id)
{

}

function remove_buttons()
{

}

function place_buttons()
{
  
}

const slider = tns({
    container: '.my-slider',
    loop: true,
    items: 1,
    slideBy: 'page',
    nav: false,    
    speed: 400,
    autoplayButtonOutput: false,
    mouseDrag: true,
    lazyload: true,
    controlsContainer: "#customize-controls",
    responsive: {
        640: {
            items: 2,
        },
        
        768: {
            items: 3,
        }
    }

  });

</script>

{%endblock%}
